Last login: Wed Nov 18 12:32:03 on ttys006
MT-109938:~ carlynan$ docker ps
CONTAINER ID        IMAGE               COMMAND               CREATED             STATUS              PORTS               NAMES
3cee43f0344b        iondtn:latest       "tail -f /dev/null"   26 seconds ago      Up 25 seconds                           loving_dubinsky
MT-109938:~ carlynan$ docker exec -it 3cee43f0344b ./dotest 
########################################

NAME:  priorities

PURPOSE: Testing priority in transmission.  Node 2 sends 5 files to
	node 3:

	1.  12 bytes with priority 1
	2.  24 bytes with priority 2
	3.  36 bytes with priority 0
	4.  48 bytes with priority 2, ordinal 200
	5.  60 bytes with priority 2, data label 6

	Node 2 has an override rule that forces priority to be 1 for any
	bundle whose data label is 6, regardless of source and destination.

	All bundles are sent at a time when there is no contact between
	nodes 2 and 3.  When contact begins 10 seconds later, the files
	should arrive in this order:

		file 4 (expedited with high ordinal)
		file 2 (expedited but with default ordinal)
		file 1 (standard)
		file 5 (expedited but overridden to standard; FIFO)
		file 3 (bulk)

	The test succeeds if the files all arrive in the correct order.

CONFIG: 2 node custom:

./2.ipn.udp/amroc.bprc:
1
a scheme ipn 'ipnfw' 'ipnadminep'
a endpoint ipn:2.0 x
a endpoint ipn:2.1 x
a endpoint ipn:2.2 x
a endpoint ipn:2.64 x
a endpoint ipn:2.65 x
a protocol udp 1400 100
a induct udp 127.0.0.1:2113 udpcli
a outduct udp 127.0.0.1:3113 'udpclo 2'
r 'ipnadmin amroc.ipnrc'
w 1
s
# EOF

./2.ipn.udp/amroc.ionconfig:
wmKey 66236
sdrName ion2
wmSize 5000000
configFlags 1
heapWords 2000000
pathName /usr/ion
# EOF

./2.ipn.udp/global.ionrc:
cat: ./2.ipn.udp/global.ionrc: No such file or directory
# EOF

./2.ipn.udp/amroc.ionrc:
1 2 amroc.ionconfig
s
m horizon +0
# EOF

./2.ipn.udp/amroc.ionsecrc:
1
# EOF

./2.ipn.udp/amroc.ipnrc:
a plan 3 udp/127.0.0.1:3113
a cosovrd 6 0 0 1 0
# EOF

./3.ipn.udp/amroc.bprc:
1
a scheme ipn 'ipnfw' 'ipnadminep'
a endpoint ipn:3.0 x
a endpoint ipn:3.1 x
a endpoint ipn:3.2 x
a endpoint ipn:3.64 x
a endpoint ipn:3.65 x
a protocol udp 1400 100
a induct udp 127.0.0.1:3113 udpcli
a outduct udp 127.0.0.1:2113 'udpclo 2'
r 'ipnadmin amroc.ipnrc'
w 1
s
# EOF

./3.ipn.udp/amroc.ionconfig:
wmKey 66336
sdrName ion3
wmSize 5000000
configFlags 1
heapWords 2000000
pathName /usr/ion
# EOF

./3.ipn.udp/global.ionrc:
cat: ./3.ipn.udp/global.ionrc: No such file or directory
# EOF

./3.ipn.udp/amroc.ionrc:
1 3 amroc.ionconfig
s
m horizon +0
# EOF

./3.ipn.udp/amroc.ionsecrc:
1
# EOF

./3.ipn.udp/amroc.ipnrc:
a plan 2 udp/127.0.0.1:2113
# EOF

OUTPUT: Terminal messages will relay results.

########################################
Cleaning up old ION...
Sending TERM to acsadmin lt-acsadmin 	acslist lt-acslist 	aoslsi lt-aoslsi 	aoslso lt-aoslso 	beacon lt-beacon 	bibeadmin lt-bibeadmin bibeclo lt-bibeclo 	bpadmin lt-bpadmin 	bpcancel lt-bpcancel 	bpchat lt-bpchat 	bpclm lt-bpclm 	bpclock lt-bpclock 	bpcounter lt-bpcounter bpdriver lt-bpdriver 	bpecho lt-bpecho 	bping lt-bping 	bplist lt-bplist 	bpnmtest lt-bpnmtest 	bprecvfile lt-bprecvfile 	bpsecadmin lt-bpsecadmin 	bpsendfile lt-bpsendfile 	bpsink lt-bpsink 	bpsource lt-bpsource 	bpstats lt-bpstats 	bpstats2 lt-bpstats2 	bptrace lt-bptrace 	bptransit lt-bptransit 	brsccla lt-brsccla 	brsscla lt-brsscla 	bsscounter lt-bsscounter 	bssdriver lt-bssdriver 	bsspadmin lt-bsspadmin bsspcli lt-bsspcli 	bsspclo lt-bsspclo 	bsspclock lt-bsspclock 	bssrecv lt-bssrecv 	bssStreamingApp lt-bssStreamingApp 	cgrfetch lt-cgrfetch 	dccpcli lt-dccpcli 	dccpclo lt-dccpclo 	dccplsi lt-dccplsi 	dccplso lt-dccplso 	dgr2file lt-dgr2file 	dgrcli lt-dgrcli 	dgrclo lt-dgrclo 	dtn2admin lt-dtn2admin 	dtn2adminep lt-dtn2adminep 	dtn2fw lt-dtn2fw 	dtpcadmin lt-dtpcadmin 	dtpcclock lt-dtpcclock 	dtpcd lt-dtpcd 	dtpcreceive lt-dtpcreceive 	dtpcsend lt-dtpcsend 	file2dgr lt-file2dgr 	file2sdr lt-file2sdr 	file2sm lt-file2sm 	file2tcp lt-file2tcp 	file2udp lt-file2udp 	hmackeys lt-hmackeys 	imcadmin lt-imcadmin 	imcfw lt-imcfw 	ionadmin lt-ionadmin 	ionexit lt-ionexit 	ionrestart lt-ionrestart 	ionsecadmin lt-ionsecadmin 	ionunlock lt-ionunlock 	ionwarn lt-ionwarn 	ipnadmin lt-ipnadmin 	ipnadminep lt-ipnadminep 	ipnd lt-ipnd 	ipnfw lt-ipnfw lgagent lt-lgagent 	lgsend lt-lgsend 	ltpadmin lt-ltpadmin 	ltpcli lt-ltpcli 	ltpclo lt-ltpclo 	ltpclock lt-ltpclock 	ltpcounter lt-ltpcounter 	ltpdeliv lt-ltpdeliv 	ltpdriver lt-ltpdriver 	ltpmeter lt-ltpmeter 	ltpsecadmin lt-ltpsecadmin 	nm_agent lt-nm_agent 	nm_mgr lt-nm_mgr 	node lt-node 	owltsim lt-owltsim 	owlttb lt-owlttb 	psmshell lt-psmshell 	psmwatch lt-psmwatch 	ramsgate lt-ramsgate 	rfxclock lt-rfxclock 	sdatest lt-sdatest 	sdr2file lt-sdr2file 	sdrmend lt-sdrmend 	sdrwatch lt-sdrwatch 	sm2file lt-sm2file 	smlistsh lt-smlistsh 	smrbtsh lt-smrbtsh 	stcpcli lt-stcpcli 	stcpclo lt-stcpclo 	tcp2file lt-tcp2file 	tcpbsi lt-tcpbsi 	tcpbso lt-tcpbso 	tcpcli lt-tcpcli 	tcpclo lt-tcpclo 	udp2file lt-udp2file 	udpbsi lt-udpbsi 	udpbso lt-udpbso 	udpcli lt-udpcli 	udpclo lt-udpclo 	udplsi lt-udplsi 	udplso lt-udplso 	 	amsbenchr lt-amsbenchr 	amsbenchs lt-amsbenchs 	amsd lt-amsd 	amshello lt-amshello 	amslog lt-amslog 	amslogprt lt-amslogprt 	amsshell lt-amsshell 	amsstop lt-amsstop 	bputa lt-bputa cfdpadmin lt-cfdpadmin 	cfdpclock lt-cfdpclock 	cfdptest lt-cfdptest 	bpcp lt-bpcp	bpcpd lt-bpcpd	...
Sending KILL to the processes...
Checking if all processes ended...
Deleting shared memory to remove SDR...
Usage: grep [OPTION]... PATTERNS [FILE]...
Try 'grep --help' for more information.
Usage: grep [OPTION]... PATTERNS [FILE]...
Try 'grep --help' for more information.
Usage: grep [OPTION]... PATTERNS [FILE]...
Try 'grep --help' for more information.
Killm completed.
Starting ION...
Now checking ion
: ION system is started
Stopping ionadmin.
Now checking bp
: BP agent is started
Stopping bpadmin.

ION system started script completed.

Now checking ion
: ION system is started
Stopping ionadmin.
Now checking bp
: BP agent is started
Stopping bpadmin.

ION system started script completed.

Starting bprecvfile on node 3...
Sending file 1: 12 bytes, priority 1...
aStopping bpsendfile.
Sending file 2: 24 bytes, priority 2...
aStopping bpsendfile.
Sending file 3: 36 bytes, priority 0...
aStopping bpsendfile.
Sending file 4: 48 bytes, priority 2, ordinal 200...
aStopping bpsendfile.
Sending file 5: 60 bytes, priority 2, data label 6...
aStopping bpsendfile.
Waiting 15 seconds for contact to start and transmission to finish...
Transmission finished.  Verifying results...
File 4 was received first.
File 2 was received second.
File 1 was received third.
File 5 was received fourth.
File 3 was received fifth.
Stopping ION...
Stopping bprecvfile.
Stopping bpadmin.
Stopping bpadmin.
Stopping ionadmin.
Stopping ionadmin.
Sending TERM to acsadmin lt-acsadmin 	acslist lt-acslist 	aoslsi lt-aoslsi 	aoslso lt-aoslso 	beacon lt-beacon 	bibeadmin lt-bibeadmin bibeclo lt-bibeclo 	bpadmin lt-bpadmin 	bpcancel lt-bpcancel 	bpchat lt-bpchat 	bpclm lt-bpclm 	bpclock lt-bpclock 	bpcounter lt-bpcounter bpdriver lt-bpdriver 	bpecho lt-bpecho 	bping lt-bping 	bplist lt-bplist 	bpnmtest lt-bpnmtest 	bprecvfile lt-bprecvfile 	bpsecadmin lt-bpsecadmin 	bpsendfile lt-bpsendfile 	bpsink lt-bpsink 	bpsource lt-bpsource 	bpstats lt-bpstats 	bpstats2 lt-bpstats2 	bptrace lt-bptrace 	bptransit lt-bptransit 	brsccla lt-brsccla 	brsscla lt-brsscla 	bsscounter lt-bsscounter 	bssdriver lt-bssdriver 	bsspadmin lt-bsspadmin bsspcli lt-bsspcli 	bsspclo lt-bsspclo 	bsspclock lt-bsspclock 	bssrecv lt-bssrecv 	bssStreamingApp lt-bssStreamingApp 	cgrfetch lt-cgrfetch 	dccpcli lt-dccpcli 	dccpclo lt-dccpclo 	dccplsi lt-dccplsi 	dccplso lt-dccplso 	dgr2file lt-dgr2file 	dgrcli lt-dgrcli 	dgrclo lt-dgrclo 	dtn2admin lt-dtn2admin 	dtn2adminep lt-dtn2adminep 	dtn2fw lt-dtn2fw 	dtpcadmin lt-dtpcadmin 	dtpcclock lt-dtpcclock 	dtpcd lt-dtpcd 	dtpcreceive lt-dtpcreceive 	dtpcsend lt-dtpcsend 	file2dgr lt-file2dgr 	file2sdr lt-file2sdr 	file2sm lt-file2sm 	file2tcp lt-file2tcp 	file2udp lt-file2udp 	hmackeys lt-hmackeys 	imcadmin lt-imcadmin 	imcfw lt-imcfw 	ionadmin lt-ionadmin 	ionexit lt-ionexit 	ionrestart lt-ionrestart 	ionsecadmin lt-ionsecadmin 	ionunlock lt-ionunlock 	ionwarn lt-ionwarn 	ipnadmin lt-ipnadmin 	ipnadminep lt-ipnadminep 	ipnd lt-ipnd 	ipnfw lt-ipnfw lgagent lt-lgagent 	lgsend lt-lgsend 	ltpadmin lt-ltpadmin 	ltpcli lt-ltpcli 	ltpclo lt-ltpclo 	ltpclock lt-ltpclock 	ltpcounter lt-ltpcounter 	ltpdeliv lt-ltpdeliv 	ltpdriver lt-ltpdriver 	ltpmeter lt-ltpmeter 	ltpsecadmin lt-ltpsecadmin 	nm_agent lt-nm_agent 	nm_mgr lt-nm_mgr 	node lt-node 	owltsim lt-owltsim 	owlttb lt-owlttb 	psmshell lt-psmshell 	psmwatch lt-psmwatch 	ramsgate lt-ramsgate 	rfxclock lt-rfxclock 	sdatest lt-sdatest 	sdr2file lt-sdr2file 	sdrmend lt-sdrmend 	sdrwatch lt-sdrwatch 	sm2file lt-sm2file 	smlistsh lt-smlistsh 	smrbtsh lt-smrbtsh 	stcpcli lt-stcpcli 	stcpclo lt-stcpclo 	tcp2file lt-tcp2file 	tcpbsi lt-tcpbsi 	tcpbso lt-tcpbso 	tcpcli lt-tcpcli 	tcpclo lt-tcpclo 	udp2file lt-udp2file 	udpbsi lt-udpbsi 	udpbso lt-udpbso 	udpcli lt-udpcli 	udpclo lt-udpclo 	udplsi lt-udplsi 	udplso lt-udplso 	 	amsbenchr lt-amsbenchr 	amsbenchs lt-amsbenchs 	amsd lt-amsd 	amshello lt-amshello 	amslog lt-amslog 	amslogprt lt-amslogprt 	amsshell lt-amsshell 	amsstop lt-amsstop 	bputa lt-bputa cfdpadmin lt-cfdpadmin 	cfdpclock lt-cfdpclock 	cfdptest lt-cfdptest 	bpcp lt-bpcp	bpcpd lt-bpcpd	...
Sending KILL to the processes...
Checking if all processes ended...
Deleting shared memory to remove SDR...
Usage: grep [OPTION]... PATTERNS [FILE]...
Try 'grep --help' for more information.
Usage: grep [OPTION]... PATTERNS [FILE]...
Try 'grep --help' for more information.
Usage: grep [OPTION]... PATTERNS [FILE]...
Try 'grep --help' for more information.
Killm completed.
Priority test completed.
